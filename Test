#!/bin/bash

# Array of folder paths
folders=("folder1" "folder2" "folder3")

# Iterate through each folder
for folder in "${folders[@]}"; do
  # Check if the folder exists
  if [ -d "$folder" ]; then
    # Loop through all JSON files in the folder
    for file in "$folder"/*.json; do
      # Check if any JSON files exist
      if [ -f "$file" ]; then
        # Extract the filename without extension
        filename=$(basename "$file" .json)
        # Read the content of the file
        content=$(<"$file")
        # Export the filename and content as an environment variable
        export "$filename"="$content"
        echo "Exported $filename as environment variable."
      fi
    done
  else
    echo "Folder $folder does not exist."
  fi
done
